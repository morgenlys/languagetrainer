<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>fr·trainer — Französisch Vokabeltrainer</title>
  <meta name="description" content="Französisch-Vokabeltrainer mit Cookies, TTS, Fehlertoleranz & Spaced Repetition. Läuft komplett auf GitHub Pages.">
  <link rel="stylesheet" href="styles/main.css"/>
</head>
<body>
  <!-- Icon-Sprite -->
  <svg aria-hidden="true" style="display:none">
    <symbol id="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></symbol>
    <symbol id="icon-sound" viewBox="0 0 24 24"><path d="M3 10v4h4l5 5V5L7 10H3zM16 7.82v8.36c1.79-.77 3-2.54 3-4.18s-1.21-3.41-3-4.18z"/></symbol>
    <symbol id="icon-upload" viewBox="0 0 24 24"><path d="M5 20h14v-2H5m7-9l5 5h-3v4h-4v-4H7l5-5z"/></symbol>
    <symbol id="icon-check" viewBox="0 0 24 24"><path d="M9 16.2l-3.5-3.5L4 14.2l5 5 12-12-1.4-1.4z"/></symbol>
    <symbol id="icon-x" viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"/></symbol>
    <symbol id="icon-refresh" viewBox="0 0 24 24"><path d="M17.65 6.35A7.95 7.95 0 0012 4V1L7 6l5 5V7a6 6 0 11-6 6H4a8 8 0 1013.65-6.65z"/></symbol>
    <symbol id="icon-settings" viewBox="0 0 24 24"><path d="M12 8a4 4 0 100 8 4 4 0 000-8zM4 12a8 8 0 0116 0"/></symbol>
    <symbol id="icon-info" viewBox="0 0 24 24"><path d="M11 7h2v2h-2zm0 4h2v6h-2z"/></symbol>
    <symbol id="icon-moon" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></symbol>
    <symbol id="icon-sun" viewBox="0 0 24 24"><path d="M12 4V2m0 20v-2M4 12H2m20 0h-2M5.64 5.64L4.22 4.22m15.56 15.56l-1.42-1.42M18.36 5.64l1.42-1.42M4.22 19.78l1.42-1.42"/></symbol>
  </svg>

  <!-- App Layout -->
  <header class="app-header">
    <div class="brand">
      <span class="logo">fr·trainer</span>
      <span class="sep">•</span>
      <span class="muted">GitHub Pages</span>
    </div>
    <div class="header-status">
      <div class="stat"><span id="stat-total">0</span><small>Gesamt</small></div>
      <div class="stat"><span id="stat-new">0</span><small>Neu</small></div>
      <div class="stat"><span id="stat-due">0</span><small>Fällig</small></div>
      <div class="stat"><span id="stat-streak">0</span><small>Streak</small></div>
      <div class="bar"><div id="progress"></div></div>
    </div>
    <div class="header-actions">
      <button id="btn-options" class="btn ghost">
        <svg><use href="#icon-settings"/></svg> Optionen
      </button>
    </div>
  </header>

  <main class="shell">
    <!-- 25% | 50% | 25% -->
    <div class="spacer"></div>

    <section class="workspace">
      <div id="card" class="card big">
        <div class="q-header">
          <div class="placeholder">
            <svg class="big"><use href="#icon-info"/></svg>
            <p>Daten laden (Optionen → Daten), dann <strong>Starten</strong>.<br/>Oder Beispieldaten verwenden.</p>
            <div class="actions mt">
              <button id="btn-load-sample" class="btn">Beispieldaten laden</button>
              <button id="btn-new-session" class="btn primary">Starten</button>
            </div>
          </div>
        </div>
        <div class="q-body"></div>
        <div class="q-footer"></div>
      </div>
    </section>

    <div class="spacer"></div>
  </main>

  <footer class="app-footer">
    <div class="theme-toggle">
      <svg><use href="#icon-sun"/></svg>
      <label class="switch">
        <input id="toggle-theme" type="checkbox">
        <span class="slider"></span>
      </label>
      <svg><use href="#icon-moon"/></svg>
    </div>
    <div class="footer-actions">
      <button id="btn-next" class="btn primary">
        <svg><use href="#icon-refresh"/></svg> Nächste
      </button>
    </div>
  </footer>

  <!-- Optionen Modal -->
  <div id="modal-options" class="modal" role="dialog" aria-modal="true" aria-labelledby="options-title" hidden>
    <div class="modal-box">
      <div class="modal-head">
        <h2 id="options-title">Optionen</h2>
        <button class="icon-btn" data-close="modal-options" aria-label="Schließen"><svg><use href="#icon-x"/></svg></button>
      </div>

      <div class="modal-grid">
        <section class="card soft">
          <h3>Session</h3>
          <div class="vstack">
            <label><input type="checkbox" id="chk-only-due"> nur fällige prüfen</label>
            <label><input type="checkbox" id="chk-include-sentences" checked> Sätze einbeziehen</label>
            <label><input type="checkbox" id="chk-include-words" checked> Wörter einbeziehen</label>
            <div class="actions">
              <button id="btn-new-session-2" class="btn primary">Starten</button>
            </div>
          </div>
        </section>

        <section class="card soft">
          <h3>Stimme & Audio</h3>
          <div class="vstack">
            <label>FR-Stimme
              <select id="sel-voice"></select>
            </label>
            <label>Rate <input id="inp-rate" type="range" min="0.7" max="1.4" step="0.05" value="1"></label>
            <label>Pitch <input id="inp-pitch" type="range" min="0.8" max="1.2" step="0.05" value="1"></label>
            <div class="actions">
              <button id="btn-tts-test" class="btn"><svg><use href="#icon-sound"/></svg> Test</button>
            </div>
            <p class="hint">Tipp: Auf Mobilgeräten muss evtl. erst eine Stimme heruntergeladen werden.</p>
          </div>
        </section>

        <section class="card soft">
          <h3>Daten</h3>
          <div class="vstack">
            <div class="actions">
              <button id="btn-import" class="btn ghost"><svg><use href="#icon-upload"/></svg> Datei laden</button>
              <input id="file-input" type="file" accept=".json,.csv" hidden>
              <button id="btn-reset" class="btn ghost">Fortschritt zurücksetzen</button>
            </div>
            <div class="links">
              <a class="link" href="data/sample.csv" target="_blank">CSV Beispiel</a>
              <a class="link" href="data/sample.json" target="_blank">JSON Beispiel</a>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <!-- Voice Help Modal (automatisch, wenn keine FR-Stimme) -->
  <div id="modal-voice" class="modal" role="dialog" aria-modal="true" aria-labelledby="voice-title" hidden>
    <div class="modal-box">
      <div class="modal-head">
        <h2 id="voice-title">Französische Stimme installieren</h2>
        <button class="icon-btn" data-close="modal-voice" aria-label="Schließen"><svg><use href="#icon-x"/></svg></button>
      </div>
      <div class="modal-body">
        <p>Auf deinem System ist aktuell keine <strong>französische</strong> Vorlese-Stimme verfügbar. Bitte installiere eine FR-Stimme und lade die Seite neu.</p>
        <div class="os-help">
          <details>
            <summary>iPhone / iPad (iOS)</summary>
            <ul>
              <li>Einstellungen → <em>Bedienungshilfen</em> → <em>Gesprochener Inhalt</em> → <em>Stimmen</em> → <em>Französisch</em> → eine Stimme laden.</li>
              <li>Oder: Einstellungen → Allgemein → Sprache & Region → Französisch hinzufügen.</li>
            </ul>
          </details>
          <details>
            <summary>Android</summary>
            <ul>
              <li>Einstellungen → <em>System</em> → <em>Sprachen & Eingabe</em> → <em>Text-in-Sprache</em>.</li>
              <li>Google Text-to-Speech öffnen → <em>Sprachen</em> → <em>Französisch</em> laden.</li>
            </ul>
          </details>
          <details>
            <summary>Windows</summary>
            <ul>
              <li>Einstellungen → Zeit & Sprache → Sprache & Region → <em>Sprache hinzufügen</em> → Französisch.</li>
              <li>Einstellungen → Zeit & Sprache → Sprache → <em>Sprachsuche, Freihand & Eingabe</em> → Sprachpakete.</li>
            </ul>
          </details>
          <details>
            <summary>macOS</summary>
            <ul>
              <li>Systemeinstellungen → Bedienungshilfen → Gesprochener Inhalt → Systemstimme → <em>Stimmen verwalten…</em> → Französisch laden.</li>
            </ul>
          </details>
        </div>
        <div class="actions">
          <button id="btn-voices-retry" class="btn">Erneut prüfen</button>
          <button id="btn-tts-test-voice" class="btn ghost"><svg><use href="#icon-sound"/></svg> Test</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script type="module" src="js/app.js"></script>
</body>
</html>
